{% extends 'base.html' %}
{% load static %}

{% block title  %}
WHOTnews
{% endblock title  %}


{% block content %}
<!-- top storys div -->
<div class='alert-danger p-2'>

	<h1 class='text-danger'>Top Storys</h1>

	{% for each in top %}
	<div style="border: 0.7rem solid white ;">
		<div class="row ">
			<div class="col-sm-9">
				<h3 style="font-size: 25px;"><a href="/news/{{ each.id }}" style="color: forestgreen;">{{ each.heading }}</a></h3>
			</div>
			<div class="col-sm-3 d-flex justify-content-end">
				{% if each.source %}
				<img src='/static/{{ each.source }}' height="60" alt="{{ each.source }}">
				{% else %}
				<img src='{% static "logo.png" %}' height="60" alt="whotnews icon">
				{% endif %}
			</div>
		</div>
		<div >
			{% if each.article_img %}
			<img src='{{ each.article_img }}' width="50%" alt="{{ each.heading }}">
			{% else %}
			<img src='{% static "logo.png" %}' width="50%" alt="whotnews icon">
			{% endif %}
		</div>
		<div class="px-3 " style="border: 0.3rem solid white ; margin:-.3rem ">
			<p style="font-weight: 500;">
				{{ each.content |truncatewords:25 | safe }}
			</p>
		</div>
	</div>
	<br>
	{% endfor %}

	<hr>

	<hr>

</div>
<!-- list of recent update -->
<div>
	<h2>Recent Update News</h2>
	{% for each in allnews %}

	<div class='row'>
		<div class='col-md-9'>
			<h3 style="font-size: 25px;"><a href="/news/{{ each.id }}" style="color:firebrick;">{{ each.heading }}</a></h3>
			<p style="font-weight: 400;">
				{{ each.content |safe | truncatewords:25 }}
			</p>
		</div>
		<div class='col-md-3 d-flex justify-content-end'>
			{% if each.source %}
			<a href="{{ each.source_url }}">
				<img src='/static/{{ each.source }}' height="60" alt="{{ each.source }}">
			</a>
			{% else %}
			<img src='{% static "logo.png" %}' height="60" alt="whotnews icon">
			{% endif %}
			
		</div>
		<hr>
	</div>
	{% endfor %}

	<a href="/allpost" class='justify-content-center row'>
		<button type="button" class="btn btn-success font-weight-bold">more</button>
	</a>

</div>
{% endblock content %}